{"version":3,"sources":["assets\\Scripts\\Bullet.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAA8D;AACxD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoC,0BAAY;IAAhD;QAAA,qEAyDC;QAtDG,kBAAY,GAAc,IAAI,CAAC;QAI/B,kBAAY,GAAW,IAAI,CAAC;QAG5B,iDAAiD;QACjD,UAAI,GAAW,CAAC,CAAC;;QAiCjB,aAAa;QACb,wFAAwF;QACxF,iFAAiF;QACjF,IAAI;QACJ,4DAA4D;QAE5D,mCAAmC;QAEnC,IAAI;QAEJ,4CAA4C;QAC5C,4CAA4C;QAC5C,IAAI;IACR,CAAC;IA7CG,0BAA0B;IAC1B,4BAA4B;IAC5B,mDAAmD;IACnD,wBAAwB;IAExB,eAAe;IAEf,sBAAK,GAAL;IAEA,CAAC;IAED,+BAAc,GAAd;QACI,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAE;IAClC,CAAC;IAED,uBAAM,GAAN,UAAO,EAAU;QAEb,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,KAAK,2BAAU,CAAC,YAAY,EAAE;YACzD,OAAO;SACV;QACD,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;QAChB,IAAI,IAAI,CAAC,IAAI,GAAG,EAAE,EAAE;YAChB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;SACjB;IACL,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACW;IAE/B;QADC,QAAQ,CAAC,wBAAc,CAAC;+CACG;IAE5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACU;IAPX,MAAM;QAD1B,OAAO;OACa,MAAM,CAyD1B;IAAD,aAAC;CAzDD,AAyDC,CAzDmC,EAAE,CAAC,SAAS,GAyD/C;kBAzDoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import MainController, { GameStatus } from \"./MainController\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Bullet extends cc.Component {\r\n  \r\n    @property(cc.Prefab)\r\n    BulletPrefab: cc.Prefab = null;\r\n    @property(MainController)\r\n    mainControl: MainController;\r\n    @property(cc.Node)\r\n    bulletParent:cc.Node = null;\r\n   \r\n\r\n    //gameStatus: GameStatus = GameStatus.Game_Ready;\r\n    time: number = 0;\r\n    // gameStatus: GameStatus;\r\n    //  gameStatus: GameStatus ;\r\n    //gameStatus: GameStatus = GameStatus.Game_Playing;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    generateBullet() {\r\n        let bullet = cc.instantiate(this.BulletPrefab);\r\n        console.log(\"bullet generate\");\r\n        this.bulletParent.addChild(bullet);\r\n        bullet.x = this.node.x;\r\n        bullet.y = this.node.y + 100 ;\r\n    }\r\n\r\n    update(dt: number) {\r\n         \r\n        if (this.mainControl.gameStatus !== GameStatus.Game_Playing) {\r\n            return;\r\n        }\r\n        console.log(\"work done\");\r\n        this.time += dt;\r\n        if (this.time > .5) {\r\n            console.log(\"bullet generated\");\r\n            this.generateBullet();\r\n            this.time = 0;\r\n        }\r\n    }\r\n    // onLoad() {\r\n    //     cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n    //     this.mainControl = cc.Canvas.instance.node.getComponent(\"MainController\");\r\n    // }\r\n    // onCollisionEnter(other: cc.Collider, self: cc.Collider) {\r\n\r\n    //     this.mainControl.gameOver();\r\n\r\n    // }\r\n\r\n    // onTouchMove(event: cc.Event.EventTouch) {\r\n    //     this.node.y = event.getLocationX()  ;\r\n    // }\r\n}\r\n"]}